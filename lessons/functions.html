<div class="lesson-content">
    <div class="lesson-header">
        <h2><span class="icon">üåâ</span> Function Bridges</h2>
        <p class="subtitle">How functions connect inputs and outputs like bridges connect shores</p>
    </div>

    <!-- Main Metaphor Visualization -->
    <div class="bridge-visualization">
        <div class="bridge-input">
            <div class="input-shore">Input Shore</div>
            <div class="input-params">
                <div class="param-card" data-param="a">5</div>
                <div class="param-card" data-param="b">3</div>
            </div>
        </div>

        <div class="bridge-path">
            <div class="bridge-cable"></div>
            <div class="processing-tower">
                <div class="gear">‚öôÔ∏è</div>
                <div class="pulse"></div>
            </div>
            <div class="code-preview">
        <pre>function add(a, b) {
  return a + b;
}</pre>
            </div>
        </div>

        <div class="bridge-output">
            <div class="output-shore">Output Shore</div>
            <div class="output-value">8</div>
        </div>
    </div>

    <!-- Interactive Demo -->
    <div class="interactive-demo">
        <h3><span class="icon">üß™</span> Interactive Bridge</h3>

        <div class="demo-controls">
            <div class="input-group">
                <label>First Number</label>
                <input type="range" min="0" max="10" value="5" id="param-a">
                <span id="value-a">5</span>
            </div>

            <div class="input-group">
                <label>Second Number</label>
                <input type="range" min="0" max="10" value="3" id="param-b">
                <span id="value-b">3</span>
            </div>

            <button class="bridge-button" id="cross-bridge">
                <span class="button-text">Cross the Bridge</span>
                <span class="button-icon">‚Üí</span>
            </button>
        </div>

        <div class="animation-container">
            <div class="data-car" id="data-car">
                <div class="car-value">5, 3</div>
            </div>
            <div class="result-bubble" id="result-bubble">
                Result: <span>8</span>
            </div>
        </div>
    </div>

    <!-- Real-World Examples -->
    <div class="real-world-examples">
        <h3><span class="icon">üåç</span> Real-World Function Bridges</h3>

        <div class="example-card">
            <div class="example-icon">üõí</div>
            <h4>Shopping Cart</h4>
            <p><code>calculateTotal(items)</code> bridges product prices ‚Üí final sum</p>
        </div>

        <div class="example-card">
            <div class="example-icon">üå°Ô∏è</div>
            <h4>Temperature</h4>
            <p><code>convertToFahrenheit(celsius)</code> bridges measurement systems</p>
        </div>
    </div>
</div>

<style>
    :root {
        --primary: #1abc9c;
        --secondary: #3498db;
        --dark: #2c3e50;
        --light: #ecf0f1;
        --highlight: #f1c40f;
    }

    .lesson-content {
        max-width: 900px;
        margin: 0 auto;
        padding: 20px;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    .lesson-header {
        text-align: center;
        margin-bottom: 40px;
    }

    .lesson-header h2 {
        font-size: 2.5rem;
        color: var(--dark);
        margin-bottom: 10px;
    }

    .lesson-header .icon {
        vertical-align: middle;
        margin-right: 10px;
    }

    .subtitle {
        font-size: 1.1rem;
        color: #7f8c8d;
    }

    /* Bridge Visualization */
    .bridge-visualization {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin: 50px 0;
        position: relative;
    }

    .bridge-input, .bridge-output {
        width: 200px;
        text-align: center;
    }

    .input-shore, .output-shore {
        background: var(--primary);
        color: white;
        padding: 10px;
        border-radius: 8px;
        font-weight: bold;
        margin-bottom: 20px;
    }

    .param-card {
        background: white;
        border: 2px solid var(--secondary);
        border-radius: 50%;
        width: 60px;
        height: 60px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 10px auto;
        font-weight: bold;
        font-size: 1.2rem;
        box-shadow: 0 3px 6px rgba(0,0,0,0.1);
        transition: transform 0.3s;
    }

    .param-card:hover {
        transform: scale(1.1);
        background: var(--light);
    }

    .output-value {
        background: var(--highlight);
        border-radius: 8px;
        padding: 15px;
        font-size: 1.5rem;
        font-weight: bold;
        box-shadow: 0 3px 6px rgba(0,0,0,0.1);
    }

    .bridge-path {
        flex-grow: 1;
        position: relative;
        height: 200px;
    }

    .bridge-cable {
        position: absolute;
        top: 50%;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(90deg, var(--primary), var(--secondary));
        z-index: 1;
    }

    .processing-tower {
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        z-index: 2;
        text-align: center;
    }

    .gear {
        font-size: 3rem;
        animation: spin 4s linear infinite;
    }

    .pulse {
        position: absolute;
        width: 80px;
        height: 80px;
        background: rgba(52, 152, 219, 0.3);
        border-radius: 50%;
        top: -10px;
        left: -10px;
        z-index: -1;
        animation: pulse 2s infinite;
    }

    .code-preview {
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        background: white;
        padding: 10px;
        border-radius: 8px;
        box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        font-family: monospace;
        max-width: 200px;
    }

    /* Interactive Demo */
    .interactive-demo {
        background: white;
        border-radius: 12px;
        padding: 25px;
        margin: 40px 0;
        box-shadow: 0 5px 15px rgba(0,0,0,0.05);
    }

    .demo-controls {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin-bottom: 30px;
    }

    .input-group {
        display: flex;
        flex-direction: column;
    }

    .input-group label {
        margin-bottom: 8px;
        font-weight: 500;
        color: var(--dark);
    }

    .input-group input[type="range"] {
        margin-bottom: 5px;
    }

    .bridge-button {
        grid-column: span 2;
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        color: white;
        border: none;
        padding: 15px;
        border-radius: 8px;
        font-size: 1.1rem;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        transition: transform 0.3s, box-shadow 0.3s;
    }

    .bridge-button:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(26, 188, 156, 0.4);
    }

    .button-icon {
        font-size: 1.3rem;
    }

    .animation-container {
        height: 100px;
        background: #f8f9fa;
        border-radius: 8px;
        position: relative;
        overflow: hidden;
    }

    .data-car {
        position: absolute;
        left: 20px;
        top: 50%;
        transform: translateY(-50%);
        background: white;
        border: 2px solid var(--secondary);
        border-radius: 8px;
        padding: 8px 15px;
        display: flex;
        align-items: center;
        z-index: 2;
    }

    .result-bubble {
        position: absolute;
        right: 20px;
        top: 50%;
        transform: translateY(-50%);
        background: var(--highlight);
        padding: 10px 15px;
        border-radius: 8px;
        font-weight: bold;
        opacity: 0;
        transition: opacity 0.3s;
    }

    /* Real World Examples */
    .real-world-examples {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin-top: 40px;
    }

    .example-card {
        background: white;
        border-radius: 10px;
        padding: 20px;
        box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        transition: transform 0.3s;
    }

    .example-card:hover {
        transform: translateY(-5px);
    }

    .example-icon {
        font-size: 2rem;
        margin-bottom: 10px;
    }

    .example-card h4 {
        color: var(--dark);
        margin-bottom: 10px;
    }

    .example-card p {
        color: #7f8c8d;
        font-size: 0.9rem;
    }

    /* Animations */
    @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }

    @keyframes pulse {
        0% { transform: scale(0.8); opacity: 0.7; }
        70% { transform: scale(1.3); opacity: 0; }
        100% { transform: scale(0.8); opacity: 0; }
    }

    @keyframes moveCar {
        0% { left: 20px; }
        100% { left: calc(100% - 100px); }
    }

    /* Responsive */
    @media (max-width: 768px) {
        .bridge-visualization {
            flex-direction: column;
            height: auto;
        }

        .bridge-input, .bridge-output {
            width: 100%;
            margin: 20px 0;
        }

        .bridge-path {
            width: 100%;
            height: 150px;
        }

        .demo-controls {
            grid-template-columns: 1fr;
        }

        .bridge-button {
            grid-column: span 1;
        }

        .real-world-examples {
            grid-template-columns: 1fr;
        }
    }
</style>

<script>
    // Update range input values
    document.getElementById('param-a').addEventListener('input', function() {
        document.getElementById('value-a').textContent = this.value;
        updateBridgeVisualization();
    });

    document.getElementById('param-b').addEventListener('input', function() {
        document.getElementById('value-b').textContent = this.value;
        updateBridgeVisualization();
    });

    // Animate bridge crossing
    document.getElementById('cross-bridge').addEventListener('click', function() {
        const car = document.getElementById('data-car');
        const resultBubble = document.getElementById('result-bubble');
        const a = document.getElementById('param-a').value;
        const b = document.getElementById('param-b').value;

        // Update car content
        car.querySelector('.car-value').textContent = `${a}, ${b}`;

        // Animate car movement
        car.style.animation = 'moveCar 2s forwards';

        // Show result after animation
        setTimeout(() => {
            car.style.animation = '';
            car.style.left = '20px';
            resultBubble.querySelector('span').textContent = parseInt(a) + parseInt(b);
            resultBubble.style.opacity = '1';

            // Hide result after 3 seconds
            setTimeout(() => {
                resultBubble.style.opacity = '0';
            }, 3000);
        }, 2000);
    });

    // Update bridge visualization
    function updateBridgeVisualization() {
        const a = document.getElementById('param-a').value;
        const b = document.getElementById('param-b').value;

        document.querySelector('[data-param="a"]').textContent = a;
        document.querySelector('[data-param="b"]').textContent = b;
        document.querySelector('.output-value').textContent = parseInt(a) + parseInt(b);
    }
</script>